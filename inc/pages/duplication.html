<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D-Crypt | Duplication</title>
  <link rel="stylesheet" href="../style.css" />

  <!-- External Scripts -->
  <script src="../../libsodium.js-master/dist/browsers/sodium.js" defer></script>
  <script src="../script.js" defer></script>
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="container">
      <div class="logo">D-Crypt <span class="version">v1.2</span></div>
      <button id="menu-toggle" aria-label="Open menu">☰</button>
      <nav>
        <ul id="menu">
          <li><a href="../../index.html">Encrypt</a></li>
          <li><a href="decrypt.html">Decrypt</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="gen-keys.html">Keys generation</a></li>
          <li><a href="addContact.html">Manage contacts</a></li>
          <li><a href="duplication.html" class="active">Duplicate D-Crypt</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="content">
    <h1>D-Crypt Duplication</h1>

    <p>Follow these steps carefully to duplicate D-Crypt safely:</p>

    <ul class="duplication-steps">
      <li>1. Make a full copy of your <strong>D-Crypt</strong> folder (for example, on a USB stick).</li>
      <li>2. In the copied folder, go to <strong>inc</strong>.</li>
      <li>3. Open <code>keys.js</code> and <code>contacts.js</code> in a text editor.</li>
      <li>4. Replace <strong>all the content</strong> of each file with the corresponding text shown below.</li>
      <li>5. Save the files and close the editor.</li>
      <li>6. Your copied version is now clean and safe to share (it contains no personal keys or contacts).</li>
    </ul>

    <hr>

    <h2>keys.js content</h2>
    <p>Open <code>inc/keys.js</code> and replace everything with this:</p>
    <pre id="keysSnippet" class="code-block">
const keys = {
  self: {
    privateKeyBase64: `PASTE_YOUR_PRIVATE_KEY_HERE`, // Change for your private Key
    publicKeyBase64: `PASTE_YOUR_PUBLIC_KEY_HERE`, // Change for your public key
  },
  global: {
    privateKeyBase64: `no9ewLjqJpGhx3tyNpkIWWhJ1YOu6MDYzWhe8-tg7-E`, // Do not change this line
    publicKeyBase64: `PZ_-W-Kb2neUuzqQAMxyWuIORdJ28gjriOk5azgWj1A`, // Do not change this line
  },
};
    </pre>
    <button class="copy-btn" id="copyKeys">Copy keys.js content</button>

    <hr>

    <h2>contacts.js content</h2>
    <p>Open <code>inc/contacts.js</code> and replace everything with this:</p>
    <pre id="contactsSnippet" class="code-block">
// ========================= D-Crypt Contacts List =========================
//
// Format: CONTACT_NAME PUBLIC_KEY
//
// Each contact must be written on a new line. Name and public key separated by a space.
// Example:
//   Alice 123abcPUBLICKEYEXAMPLE
//   Bob anotherPUBLICKEYEXAMPLE
//
// CONTACT_NAME rules:
//   - Use only letters, numbers, or underscores (_)
//   - NO SPACES are allowed in names
//   - Example of valid names: JohnDoe, My_Friend, Contact1
//
// The first two lines below are reserved:
//   - Global → shared encryption key for everyone using D-Crypt
//   - Myself → your own public key (used to encrypt things for yourself)
//
// To add more contacts:
//   1. Copy a new line below "Myself".
//   2. Replace CONTACT_NAME with their name.
//   3. Replace PUBLIC_KEY with their real public key.
//   4. Save the file.
//
// Do not remove the final backtick (`) or semicolon (;) below!
// They are required for D-Crypt to read this file correctly.
//
// ========================================================================

const contactsData = `
Global PZ_-W-Kb2neUuzqQAMxyWuIORdJ28gjriOk5azgWj1A
Myself PASTE_YOUR_PUBLIC_KEY_HERE

`;</pre>
    <button class="copy-btn" id="copyContacts">Copy contacts.js content</button>
  </main>

  <!-- FOOTER -->
  <footer>
    <p>&copy; <span id="current-year"></span> D-Crypt. All rights reserved.</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    // Copy function
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied to clipboard!");
      }).catch(() => {
        alert("Failed to copy. Please copy manually.");
      });
    }

    document.getElementById("copyKeys").addEventListener("click", () => {
      copyToClipboard(document.getElementById("keysSnippet").innerText.trim());
    });

    document.getElementById("copyContacts").addEventListener("click", () => {
      copyToClipboard(document.getElementById("contactsSnippet").innerText.trim());
    });

    // Update footer year
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("current-year").textContent = new Date().getFullYear();
    });
  </script>

  <style>
    .code-block {
      background: #222;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-family: monospace;
      white-space: pre-wrap;
      overflow-x: auto;
      margin-bottom: 10px;
    }
    .copy-btn {
      background: #007bff;
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }
    .copy-btn:hover {
      background: #0056b3;
    }
  </style>
</body>
</html>